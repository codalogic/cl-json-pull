Tests run on Wed Jun 03 11:41:45 2015

    struct Event [test-event.cpp:38]
    ================================
    ok: event.name == ""
    ok: event.value == ""
    ok: event.type == cljp::Event::T_UNKNOWN
    ok: event.name == "name"
    ok: event.value == "value"
    ok: event.type == cljp::Event::T_STRING
    ok: event.name == ""
    ok: event.value == ""
    ok: event.type == cljp::Event::T_UNKNOWN
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Event simple / convenience is_XXX methods [test-event.cpp:61]
    =============================================================
    ok: event.is_boolean()
    ok: event.is_bool()
    ok: event.is_number()
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Event::is_true and is_false [test-event.cpp:74]
    ===============================================
      Test Event::is_true()
    ok: event.is_true() == true
    ok: event.is_true() == false
    ok: event.is_true() == false
    ok: event.is_true() == false
      Test Event::is_false()
    ok: event.is_false() == true
    ok: event.is_false() == false
    ok: event.is_false() == false
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Event::is_int [test-event.cpp:113]
    ==================================
    ok: event.is_int() == true
    ok: event.is_int() == true
    ok: event.is_int() == true
    ok: event.is_int() == true
    ok: event.is_int() == false
    ok: event.is_int() == false
    ok: event.is_int() == false
    ok: event.is_int() == false
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Event::to_bool [test-event.cpp:144]
    ===================================
      Test Event::to_bool() for booleans
    ok: event.to_bool() == false
    ok: event.to_bool() == true
      Test Event::to_bool() for strings
    ok: event.to_bool() == true
    ok: event.to_bool() == true
    ok: event.to_bool() == false
      Test Event::to_bool() for numbers
    ok: event.to_bool() == false
    ok: event.to_bool() == false
    ok: event.to_bool() == false
    ok: event.to_bool() == true
      Test Event::to_bool() for null
    ok: event.to_bool() == false
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Event to_float, to_int [test-event.cpp:201]
    ===========================================
    ok: event.to_float() == 1.0
    ok: event.to_float() == 1.5
    ok: event.to_int() == 1
    ok: event.to_long() == 1
    ok: event.to_float() == -11.5
    ok: event.to_int() == -11
    ok: event.to_long() == -11
    ok: event.to_float() == 1.0
    ok: event.to_float() == 1.0
    ok: event.to_float() == 0.0
    ok: event.to_int() == 1
    ok: event.to_int() == 1
    ok: event.to_int() == 0
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Messages [test-messages.cpp:38]
    ===============================
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser truncated input [test-messages.cpp:43]
    =============================================
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Basic Parser [test-parse.cpp:55]
    ================================
      Testing outer parsing handling
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_END_OF_MESSAGE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_READ_PAST_END_OF_MESSAGE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_UNEXPECTED_OBJECT_CLOSE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_UNEXPECTED_ARRAY_CLOSE
      Parser::get_in_array();
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_END_OF_MESSAGE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_UNEXPECTED_ARRAY_CLOSE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "12"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_END_OF_MESSAGE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == "String"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_END_OF_MESSAGE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_BOOLEAN
    ok: h.event.value == "false"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_END_OF_MESSAGE
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_UNRECOGNISED_VALUE_FORMAT
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_END_OF_MESSAGE
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Reading constant values [test-parse.cpp:248]
    ===================================================
      Parser::get_false()
      Line: 251, input: false
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 252, input:  false
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 253, input: false,
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 254, input: false
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 255, input: false 
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 256, input: false]
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 257, input: false}
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 260, input: f
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 261, input: fal
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 262, input: falsey
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 263, input: false:
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Parser::get_true()
      Line: 266, input: true
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 267, input:  true
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 268, input: true,
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 269, input: true
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 270, input: true 
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 271, input: true]
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 272, input: true}
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 275, input: t
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 276, input: tru
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 277, input: truey
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 278, input: true:
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Parser::get_null()
      Line: 281, input: null
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 282, input:  null
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 283, input: null,
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 284, input: null
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 285, input: null 
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 286, input: null]
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 287, input: null}
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 290, input: n
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 291, input: nul
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 292, input: nully
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 293, input: null:
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Reading number values [test-parse.cpp:318]
    =================================================
      Line: 320, input: 1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 321, input: 12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 322, input: 12,
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 323, input: 12 
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 325, input: -1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 326, input: -12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 327, input: -
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 328, input: +1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 330, input: 0
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 331, input: -0
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 332, input: 00
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 333, input: 01
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 334, input: -01
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 336, input: 1.1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 337, input: 12.12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 338, input: -12.12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 339, input: .
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 340, input: 1.
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 341, input: .1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 342, input: -.
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 343, input: -1.
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 344, input: -.1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 346, input: 1e1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 347, input: 1E1
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 348, input: 1e+12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 349, input: 12e+12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 350, input: 1e-12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 351, input: 12e-12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 352, input: 1.1e+12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 353, input: 12.12e-12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 354, input: -12.12e-12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 355, input: 12.12e12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 356, input: -12.12e12
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: h.event.type == expected_type
    ok: h.event.value == p_expected_value
      Line: 357, input: 1.e
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 358, input: 1e
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
      Line: 359, input: 1e+ 
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_result
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Back-to-back numbers [test-parse.cpp:362]
    ================================================
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "12.3"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "4.2e+6"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "12.3"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "4.2e+6"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_END
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Reading string values [test-parse.cpp:452]
    =================================================
      Parser::get_string()
      Line: 456, input: Fred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 465, input: Say \"Fred\"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 466, input: Say \nFred\n
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 468, input: Say \\Fred\/
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 469, input: Say \bFred\f
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 470, input: Say \nFred\r
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 471, input: Say \tFred\t
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Line: 473, input: Say \qFred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
      Parser::get_string() - char outside unescaped = %x20-21 / %x23-5B / %x5D-10FFFF fails
      Line: 476, input: Say  Fred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Reading string Unicode escapes [test-parse.cpp:479]
    ==========================================================
      Calling: string_ok_test( __LINE__, "Say \\u002fFred", "Say /Fred" ) (481)
      Line: 481, input: Say \u002fFred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\uD800\\uDC02", "\xF0\x90\x80\x82" ) (484)
      Line: 484, input: \uD800\uDC02
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\ud800\\udc02", "\xF0\x90\x80\x82" ) (485)
      Line: 485, input: \ud800\udc02
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\u0802", "\xE0\xA0\x82" ) (486)
      Line: 486, input: \u0802
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\uFFFC", "\xEF\xBF\xBC" ) (487)
      Line: 487, input: \uFFFC
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\ufffc", "\xEF\xBF\xBC" ) (488)
      Line: 488, input: \ufffc
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\u0082", "\xC2\x82" ) (489)
      Line: 489, input: \u0082
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "\\u07FC", "\xDF\xBC" ) (490)
      Line: 490, input: \u07FC
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "X\\uD800\\uDC02A", "X\xF0\x90\x80\x82""A" ) (493)
      Line: 493, input: X\uD800\uDC02A
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "X\\u0802A", "X\xE0\xA0\x82""A" ) (494)
      Line: 494, input: X\u0802A
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Calling: string_ok_test( __LINE__, "X\\u0082A", "X\xC2\x82""A" ) (495)
      Line: 495, input: X\u0082A
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Parser::get_string() - truncated BMP unicode escape fails
      Calling: string_fail_test( __LINE__, "Say \\u002 Fred", cljp::Parser::PR_BAD_UNICODE_ESCAPE ) (498)
      Line: 498, input: Say \u002 Fred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
      Calling: string_fail_test( __LINE__, "Say \\u002QFred", cljp::Parser::PR_BAD_UNICODE_ESCAPE ) (499)
      Line: 499, input: Say \u002QFred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
      Calling: string_ok_test( __LINE__, "\\u65E5\\u672C\\u8A9E", "\xE6\x97\xA5\xE6\x9C\xAC\xE8\xAA\x9E" ) (502)
      Line: 502, input: \u65E5\u672C\u8A9E
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Parser::get_string() - Surrogates unicode escape
      Calling: string_ok_test( __LINE__, "\\uD808\\uDF45=Ra", "\xF0\x92\x8D\x85=Ra" ) (506)
      Line: 506, input: \uD808\uDF45=Ra
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == p_expected_value
      Parser::get_string() - High surrogate without following low surrogate fails
      Calling: string_fail_test( __LINE__, "\\uD808Fred", cljp::Parser::PR_BAD_UNICODE_ESCAPE ) (509)
      Line: 509, input: \uD808Fred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
      Calling: string_fail_test( __LINE__, "\\uD808\\u0022", cljp::Parser::PR_BAD_UNICODE_ESCAPE ) (510)
      Line: 510, input: \uD808\u0022
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
      Parser::get_string() - Low surrogate without preceeding high surrogate fails
      Calling: string_fail_test( __LINE__, "\\uDF45Fred", cljp::Parser::PR_BAD_UNICODE_ESCAPE ) (513)
      Line: 513, input: \uDF45Fred
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
      Calling: string_fail_test( __LINE__, "\\uDF45\\u0022", cljp::Parser::PR_BAD_UNICODE_ESCAPE ) (514)
      Line: 514, input: \uDF45\u0022
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == expected_error_code
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Reading string with bad Unicode escapes, check parsing not terminated mid-string [test-parse.cpp:543]
    ============================================================================================================
      Line: 545, input:  \u002 
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) != cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value.find( "Fred" ) != std::string::npos
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == "Bill"
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser::get_string() - String end quote in middle of unicode escape code [test-parse.cpp:548]
    =============================================================================================
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) != cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value.find( "Fred" ) != std::string::npos
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == "Bill"
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Reading string unexpected EOF [test-parse.cpp:564]
    =========================================================
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_ARRAY_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_UNEXPECTED_END_OF_MESSAGE
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Parser Read member [test-parse.cpp:574]
    =======================================
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.name == "Field"
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "12"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_END
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_START
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.name == "Field"
    ok: h.event.type == cljp::Event::T_NUMBER
    ok: h.event.value == "12"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.name == "Jam"
    ok: h.event.type == cljp::Event::T_STRING
    ok: h.event.value == "High"
    ok: h.parser.get( &h.event ) == cljp::Parser::PR_OK
    ok: h.event.type == cljp::Event::T_OBJECT_END
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    class ReaderMemory [test-reader.cpp:38]
    =======================================
    ok: reader.get() == 'a'
    ok: reader.get() == 'b'
    ok: reader.get() == 'c'
    ok: reader.get() == cljp::Reader::EOM
    ok: reader.get() == cljp::Reader::EOM
    ok: reader.get() == cljp::Reader::EOM
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    class ReaderFile [test-reader.cpp:61]
    =====================================
    ok: fout.is_open()
    ok: reader.is_open()
    ok: reader.get() == 'a'
    ok: reader.get() == 'b'
    ok: reader.get() == 'c'
    ok: reader.get() == 0x00f2
    ok: reader.get() == cljp::Reader::EOM
    ok: reader.get() == 'a'
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    class ReadUTF8WithUnget [test-reader.cpp:88]
    ============================================
    ok: input.get() == 'a'
    ok: input.get() == 'b'
    ok: input.get() == 'f'
    ok: input.get() == 'h'
    ok: input.get() == 'g'
    ok: input.get() == 'c'
    ok: input.get() == cljp::Reader::EOM
    ok: input.get() == cljp::Reader::EOM
    ok: input.get() == cljp::Reader::EOM
    ok: input.get() == 'h'
    ok: input.get() == 'g'
    ok: input.get() == cljp::Reader::EOM
    ok: input.get() == cljp::Reader::EOM
    ok: input.get_non_ws() == 'a'
    ok: input.get_non_ws() == 'b'
    ok: input.get_non_ws() == 'c'
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    Object member testing [test-todo.cpp:38]
    ========================================
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    UTFConverter [test-todo.cpp:43]
    ===============================
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    TODOs [test-todo.cpp:48]
    ========================
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )

    ReadUTF8 [test-read-utf8.cpp:38]
    ================================
    ok: ! _CrtMemDifference( &s3, &s1, &s2 )
    ok: _CrtCheckMemory() != 0

TODOs (11):
------------------------
- Reading whole messages using compound reader [test-messages.cpp:40]
- Parser truncated input [test-messages.cpp:45]
- Test that 'name' in a 'member' is correct format (inc opening quotes) [test-todo.cpp:40]
- class UTFConverter [test-todo.cpp:45]
- Reading multiple JSON msgs from single file/stream [test-todo.cpp:50]
- class ReadUTF8 [test-read-utf8.cpp:40]
- ReadUTF8: test reading in UTF8 [test-read-utf8.cpp:42]
- ReadUTF8: test reading in UTF16LE [test-read-utf8.cpp:43]
- ReadUTF8: test reading in UTF16BE [test-read-utf8.cpp:44]
- ReadUTF8: test reading in UTF32LE [test-read-utf8.cpp:45]
- ReadUTF8: test reading in UTF32BE [test-read-utf8.cpp:46]

0 error(s), 11 todo(s), 648 test(s)
